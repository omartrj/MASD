# MASD â€” Monitoring & Analytics of Streaming Data
# File principale
name: masd

include:
  - compose/kafka.yml
  - compose/mongodb.yml
  - compose/hadoop.yml
  - compose/spark.yml

networks:
  masd-network:
    name: masd-network
    driver: bridge

volumes:
  # I container apache/hadoop generano le configurazioni xml a partire da un file in formato
  # KEY=VALUE. Il container spark usato da spark-app invece si aspetta di trovare direttamente i file xml.
  # Per questo motivo uso questo volume per condividere i file di configurazione generati tra i container hadoop e spark.
  hadoop-config:
    name: hadoop-config
  # Volumi per i dati di MongoDB
  mongo-primary-data:
    name: mongo-primary-data
  mongo-secondary1-data:
    name: mongo-secondary1-data
  mongo-secondary2-data:
    name: mongo-secondary2-data
